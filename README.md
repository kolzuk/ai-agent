# AI Coding Agent

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ GitHub Issues —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ò–ò.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç GitHub Issues –∏ —Å–æ–∑–¥–∞–µ—Ç –∫–æ–¥
- üîÑ **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å**: –î–æ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–≤—å—é
- üîç **–ò–ò-—Ä–µ–≤—å—é**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- üåê **GitHub App**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub App —Å webhook'–∞–º–∏
- üéØ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ LLM**: OpenAI GPT –∏ Yandex GPT
- üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å**: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è —É–º–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
- ‚ö° **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   ```bash
   cp .env.example .env
   # –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env
   ```

2. **–ó–∞–ø—É—Å–∫**:
   ```bash
   docker-compose up --build
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
   - –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É: `POST /admin/run/issue/{owner}/{repo}/{issue_number}`
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç PR —Å —Ä–µ—à–µ–Ω–∏–µ–º

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

```bash
# GitHub App
GITHUB_APP_ID=your_app_id
GITHUB_APP_PRIVATE_KEY=path/to/private.pem
GITHUB_WEBHOOK_SECRET=your_webhook_secret

# LLM (OpenAI –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Yandex GPT)
OPENAI_API_KEY=your_openai_key  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
YANDEX_GPT_API_KEY=your_yandex_key
YANDEX_GPT_FOLDER_ID=your_folder_id

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
MAX_ITERATIONS=5
DATABASE_URL=sqlite:///./app.db
```

## API

- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `GET /ready` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- `POST /admin/run/issue/{owner}/{repo}/{issue_number}` - –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ issue
- `POST /admin/restart/issue/{owner}/{repo}/{issue_number}` - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ issue
- `POST /admin/run/review/{owner}/{repo}/{pr_number}` - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ä–µ–≤—å—é
- `GET /admin/status/{owner}/{repo}/{issue_number}` - –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ issue
- `GET /admin/iterations` - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π
- `POST /admin/iterations/{iteration_id}/cancel` - –û—Ç–º–µ–Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏
- `GET /admin/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- `GET /docs` - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—â–∏–π –ø–æ—Ç–æ–∫
```
GitHub Issue ‚Üí –ê–Ω–∞–ª–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ ‚Üí PR ‚Üí CI ‚Üí –ò–ò-—Ä–µ–≤—å—é ‚Üí –ò—Ç–µ—Ä–∞—Ü–∏—è/–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
app/                          # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ main.py                   # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ database.py               # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ orchestrator.py           # –û—Å–Ω–æ–≤–Ω–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä SDLC
‚îú‚îÄ‚îÄ repository_analyzer.py    # –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îú‚îÄ‚îÄ code_modifier.py          # –£–º–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞
‚îú‚îÄ‚îÄ llm_client.py            # –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LLM
‚îú‚îÄ‚îÄ reviewer.py              # –ò–ò-—Ä–µ–≤—å—é–µ—Ä
‚îú‚îÄ‚îÄ github_client.py         # GitHub API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ github_app/              # GitHub App –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ auth.py
‚îî‚îÄ‚îÄ routers/                 # API —Ä–æ—É—Ç–µ—Ä—ã
    ‚îú‚îÄ‚îÄ webhook.py           # Webhook –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    ‚îú‚îÄ‚îÄ admin.py             # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ API
    ‚îî‚îÄ‚îÄ health.py            # Health check endpoints

tests/                       # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ test_orchestrator_architecture.py
‚îú‚îÄ‚îÄ test_repository_analyzer.py
‚îú‚îÄ‚îÄ test_code_modifier.py
‚îî‚îÄ‚îÄ test_ci_failure_handling.py
```
